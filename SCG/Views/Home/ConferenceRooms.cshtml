
@{
    ViewBag.Title = "Conference Rooms";
    ViewBag.Page_Nav = "onefirm";
    ViewBag.Page_Area = "conference_rooms_area";
    ViewBag.Page_ID = "";
    ViewBag.Page_Layout = "columns_1";
}

<h1>Conference Rooms<br/><span style="font-size: 11px;">*Information only shows 10 meetings per room. There may be additional meetings if a room has 10 meetings showing.</span></h1>

<table class="table table-striped table-bordered">
  <thead>
    <tr>
      <th></th>
      @foreach (var day in ViewBag.Dates)
      {
        <th>@string.Format("{0:d}", day)</th>
      }
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>Training Room</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Training)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Founders Room</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Founders)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Tax Conference</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Tax)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Audit Conference</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Audit)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Room 119</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.R119)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Ft. Walton Beach</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.FWB)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Tampa</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Tampa)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>St. Pete</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Pete)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
    <tr>
      <td>Orlando</td>
      @foreach (var day in ViewBag.Dates)
      {
        <td>
          @foreach (var e in ViewBag.Orlando)
          {
            if (string.Format("{0:d}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime()) == string.Format("{0:d}", day))
            {
              <span class="cal-event">
                <span class="cal-event-subject"><i class="fa fa-calendar"></i> @Html.Raw(e.Subject.Substring(0, Math.Min(e.Subject.Length, 40)))</span><br />
                <span class="cal-event-time"><i class="fa fa-clock-o"></i> @string.Format("{0:t}", Convert.ToDateTime(e.Start.DateTime).ToLocalTime())</span><br />
                <span class="cal-event-organizer"><i class="fa fa-user"></i> @Html.Raw(e.Organizer.EmailAddress.Name)</span>
                @if (!string.IsNullOrEmpty(e.Body.Content))
                {
                  <br />
                  <span class="cal-event-info actions"><i class="fa fa-info-circle" aria-hidden="true"></i> More Information</span>
                  <span class="cal-event-info-body" style="display: none;">@Html.Raw(e.Body.Content)</span>
                }
              </span>
            }
          }
        </td>
      }
    </tr>
  </tbody>
</table>

<div id="confModal">
  <div id="openCalEvent" class="modal fade" role="dialog">
    <div class="modal-dialog" style="width: 750px;">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal">&times;</button>
          <h2 class="modal-title">Meeting Information</h2>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
        </div>
      </div>
    </div>
  </div>
</div>

@section Scripts {
  <script type="text/javascript">
    $(document).ready(function () {
      $('.cal-event-info').click(function () {
        $('.modal-body').html($(this).parent().html());
        $('.modal-body').find('.cal-event-info-body').css({ 'display': 'block', 'margin-top': '30px' });
        $('#openCalEvent').modal();
      });
    });
  </script>
}